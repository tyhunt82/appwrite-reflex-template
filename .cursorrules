# Reflex + Appwrite Project Rules

Read @.cursor/claude.md for full project documentation.

## Quick Rules

### Structure
- Nuxt-style: pages colocated with their state (`pages/{name}/index.py` + `state.py`)
- Components organized by scope: `shared/`, `dashboard/`, `admin/`
- FastAPI routes in `server/api/`
- Config via Pydantic Settings in `config.py`

### Code Standards
- **500 line max per file** - refactor if larger
- Always use type hints
- Use `@rx.event` for state mutations
- Absolute imports from `app.` prefix

### Reflex Specifics
- Reflex includes FastAPI - no separate backend needed
- Use `app.api.include_router()` for custom API routes
- State classes extend `rx.State` or `BaseState`
- Components return `rx.Component`

### File Naming
- Pages: `pages/{section}/index.py`, `{feature}.py`
- State: `pages/{section}/state.py`
- Components: `components/{scope}/{name}.py`
- API: `server/api/{name}_routes.py`

### Don't
- Don't create separate FastAPI app - use Reflex's built-in
- Don't put page-specific state in global `states/`
- Don't exceed 500 lines per file
- Don't use relative imports across packages

### Do
- Do colocate state with pages (Nuxt-style)
- Do use Pydantic Settings for configuration
- Do keep shared components in `components/shared/`
- Do register all routes in `app.py`
